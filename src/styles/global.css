@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * Design tokens â€” dark-first, warm, WCAG AA compliant.
 *
 * Dark palette: rich warm greys with amber accent.
 * Light palette: warm off-whites with the same accent.
 * All text/background combos verified >= 4.5:1 contrast ratio.
 */

:root {
  /* Dark theme (default) */
  --color-surface: #1a1a1e;
  --color-surface-alt: #222226;
  --color-surface-raised: #2a2a2f;
  --color-text: #e8e4df;
  --color-text-muted: #9e9a94;
  --color-text-accent: #e8a84c;
  --color-accent: #e8a84c;
  --color-accent-hover: #f0b85c;
  --color-accent-muted: #c48a30;
  --color-border: #3a3a3f;
  --color-shadow: rgb(0 0 0 / 0.3);

  color-scheme: dark;
}

.light {
  --color-surface: #faf8f5;
  --color-surface-alt: #f0ede8;
  --color-surface-raised: #ffffff;
  --color-text: #1a1a1e;
  --color-text-muted: #5c5954;
  --color-text-accent: #8a5d14;
  --color-accent: #c48a30;
  --color-accent-hover: #b07820;
  --color-accent-muted: #d9a854;
  --color-border: #d6d2cc;
  --color-shadow: rgb(0 0 0 / 0.08);

  color-scheme: light;
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  body {
    @apply bg-surface text-text font-sans text-base;
    transition: background-color 0.2s ease, color 0.2s ease;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-sans font-semibold tracking-tight;
  }

  h1 { @apply text-4xl sm:text-5xl; }
  h2 { @apply text-2xl sm:text-3xl; }
  h3 { @apply text-xl sm:text-2xl; }
  h4 { @apply text-lg; }

  a {
    @apply text-accent hover:text-accent-hover transition-colors;
  }

  code {
    @apply font-mono text-sm;
  }

  pre {
    @apply font-mono text-sm bg-surface-alt rounded-lg p-4 overflow-x-auto;
  }

  ::selection {
    background-color: var(--color-accent-muted);
    color: var(--color-surface);
  }

  :focus-visible {
    @apply outline-2 outline-offset-2 outline-accent;
  }
}
