@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * Design tokens — dark-first, botanical, WCAG AA compliant.
 *
 * Dark palette: plum-tinted darks with dusty copper accent.
 * Light palette: warm creams with deeper copper.
 * Mood: dried flowers, autumn, moody earth tones.
 * All text/background combos verified >= 4.5:1 contrast ratio.
 */

:root {
  /* Dark theme (default) — plum-undertone surfaces */
  --color-surface: #1a181c;
  --color-surface-alt: #24212a;
  --color-surface-raised: #2e2a34;
  --color-text: #e2ddd8;
  --color-text-muted: #968e96;
  --color-text-accent: #c48b6e;
  --color-accent: #c48b6e;
  --color-accent-hover: #d49e82;
  --color-accent-muted: #9a6d52;
  --color-border: #3d3844;
  --color-shadow: rgb(0 0 0 / 0.3);

  color-scheme: dark;
}

.light {
  --color-surface: #f7f4f1;
  --color-surface-alt: #ece7e2;
  --color-surface-raised: #ffffff;
  --color-text: #1a181c;
  --color-text-muted: #5e575e;
  --color-text-accent: #8a5e42;
  --color-accent: #8a5e42;
  --color-accent-hover: #7a5238;
  --color-accent-muted: #c4a08a;
  --color-border: #d4cec8;
  --color-shadow: rgb(0 0 0 / 0.08);

  color-scheme: light;
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  body {
    @apply bg-surface font-sans text-base text-text;
    transition:
      background-color 0.2s ease,
      color 0.2s ease;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-sans font-semibold tracking-tight;
  }

  h1 {
    @apply text-4xl sm:text-5xl;
  }
  h2 {
    @apply text-2xl sm:text-3xl;
  }
  h3 {
    @apply text-xl sm:text-2xl;
  }
  h4 {
    @apply text-lg;
  }

  a {
    @apply text-accent transition-colors hover:text-accent-hover;
  }

  code {
    @apply font-mono text-sm;
  }

  pre {
    @apply overflow-x-auto rounded-lg bg-surface-alt p-4 font-mono text-sm;
  }

  ::selection {
    background-color: var(--color-accent-muted);
    color: var(--color-surface);
  }

  :focus-visible {
    @apply outline-2 outline-offset-2 outline-accent;
  }
}

@layer utilities {
  .card-hover {
    transition:
      transform 0.2s ease,
      box-shadow 0.2s ease,
      border-color 0.2s ease;
  }
  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 20px color-mix(in srgb, var(--color-accent) 12%, transparent);
  }

  .hero-glow {
    position: relative;
  }
  .hero-glow::before {
    content: '';
    position: absolute;
    top: -20%;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 120%;
    background: radial-gradient(ellipse, var(--color-accent-muted) 0%, transparent 60%);
    opacity: 0.04;
    pointer-events: none;
    z-index: -1;
  }

  .section-divider {
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      var(--color-border) 20%,
      var(--color-accent-muted) 50%,
      var(--color-border) 80%,
      transparent
    );
    opacity: 0.4;
  }

  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-in {
    animation: fade-up 0.4s ease-out both;
  }

  .header-scrolled {
    box-shadow: 0 1px 3px var(--color-shadow);
  }

  @media (prefers-reduced-motion: reduce) {
    .card-hover:hover {
      transform: none;
    }
    .animate-in {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }
}
